const _0x35bba3=_0x35b0;(function(_0x66b5f7,_0x29b7df){const _0x33b797=_0x35b0,_0x52eea2=_0x66b5f7();while(!![]){try{const _0x2b6e12=parseInt(_0x33b797(0x1fa))/0x1+-parseInt(_0x33b797(0x1f8))/0x2+parseInt(_0x33b797(0x1f5))/0x3+parseInt(_0x33b797(0x1dc))/0x4*(parseInt(_0x33b797(0x204))/0x5)+parseInt(_0x33b797(0x1fc))/0x6+parseInt(_0x33b797(0x1e0))/0x7*(parseInt(_0x33b797(0x1f6))/0x8)+parseInt(_0x33b797(0x1e4))/0x9*(-parseInt(_0x33b797(0x1ff))/0xa);if(_0x2b6e12===_0x29b7df)break;else _0x52eea2['push'](_0x52eea2['shift']());}catch(_0x4f1b9d){_0x52eea2['push'](_0x52eea2['shift']());}}}(_0x44f2,0x94eef));function _0x35b0(_0x38bd22,_0x4f9e05){const _0x44f2c1=_0x44f2();return _0x35b0=function(_0x35b0b8,_0x1c8848){_0x35b0b8=_0x35b0b8-0x1d5;let _0x570850=_0x44f2c1[_0x35b0b8];return _0x570850;},_0x35b0(_0x38bd22,_0x4f9e05);}function _0x44f2(){const _0xcac08c=['-ss','15lNCSSN','default','-vf','writeUIntLE','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','toString','Image','readFileSync','.mp4','join','length','toFormat','webp','441228NYjHID','00:00:05','exif','-preset','252vYXFTM','unlinkSync','00:00:00','load','17436654lEEBtO','exports','utf-8','path','packname','concat','stringify','readUIntLE','from','save','libwebp','-vcodec','https://github.com/Louis-X0','writeFileSync','node-webpmux','error','addOutputOptions','1238607qJHYqQ','230256feuOTc','randomBytes','1568254FbFagX','categories','815983wbEdVv','.webp','4413834WgQtoP','crypto','end','10wVeJNg','-loop','author','-an'];_0x44f2=function(){return _0xcac08c;};return _0x44f2();}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x35bba3(0x1fd)),ff=require('fluent-ffmpeg'),webp=require(_0x35bba3(0x1f2)),path=require(_0x35bba3(0x1e7));async function imageToWebp(_0x427964){const _0x21057b=_0x35bba3,_0x173182=path[_0x21057b(0x1d8)](tmpdir(),Crypto[_0x21057b(0x1f7)](0x6)[_0x21057b(0x1eb)](0x0,0x6)[_0x21057b(0x209)](0x24)+_0x21057b(0x1fb)),_0x93e737=path['join'](tmpdir(),Crypto[_0x21057b(0x1f7)](0x6)['readUIntLE'](0x0,0x6)[_0x21057b(0x209)](0x24)+'.jpg');fs['writeFileSync'](_0x93e737,_0x427964),await new Promise((_0x2ae81f,_0x2f4cb6)=>{const _0x2ec45e=_0x21057b;ff(_0x93e737)['on'](_0x2ec45e(0x1f3),_0x2f4cb6)['on']('end',()=>_0x2ae81f(!![]))[_0x2ec45e(0x1f4)]([_0x2ec45e(0x1ef),_0x2ec45e(0x1ee),_0x2ec45e(0x206),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x2ec45e(0x1da)](_0x2ec45e(0x1db))[_0x2ec45e(0x1ed)](_0x173182);});const _0x5031c3=fs[_0x21057b(0x1d6)](_0x173182);return fs[_0x21057b(0x1e1)](_0x173182),fs['unlinkSync'](_0x93e737),_0x5031c3;}async function videoToWebp(_0x549b42){const _0x2d7ddc=_0x35bba3,_0x55d3f3=path[_0x2d7ddc(0x1d8)](tmpdir(),Crypto[_0x2d7ddc(0x1f7)](0x6)[_0x2d7ddc(0x1eb)](0x0,0x6)[_0x2d7ddc(0x209)](0x24)+'.webp'),_0x639c9e=path[_0x2d7ddc(0x1d8)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x2d7ddc(0x209)](0x24)+_0x2d7ddc(0x1d7));fs[_0x2d7ddc(0x1f1)](_0x639c9e,_0x549b42),await new Promise((_0x1ca10f,_0x4d56de)=>{const _0x12c930=_0x2d7ddc;ff(_0x639c9e)['on'](_0x12c930(0x1f3),_0x4d56de)['on'](_0x12c930(0x1fe),()=>_0x1ca10f(!![]))[_0x12c930(0x1f4)](['-vcodec',_0x12c930(0x1ee),'-vf',_0x12c930(0x208),_0x12c930(0x200),'0',_0x12c930(0x203),_0x12c930(0x1e2),'-t',_0x12c930(0x1dd),_0x12c930(0x1df),_0x12c930(0x205),_0x12c930(0x202),'-vsync','0'])[_0x12c930(0x1da)]('webp')[_0x12c930(0x1ed)](_0x55d3f3);});const _0x4e7501=fs[_0x2d7ddc(0x1d6)](_0x55d3f3);return fs[_0x2d7ddc(0x1e1)](_0x55d3f3),fs[_0x2d7ddc(0x1e1)](_0x639c9e),_0x4e7501;}async function writeExifImg(_0x18ec5b,_0x4bf633){const _0x5cb10f=_0x35bba3;let _0x1e3dbe=await imageToWebp(_0x18ec5b);const _0x4ab62d=path['join'](tmpdir(),Crypto[_0x5cb10f(0x1f7)](0x6)[_0x5cb10f(0x1eb)](0x0,0x6)[_0x5cb10f(0x209)](0x24)+_0x5cb10f(0x1fb)),_0x442099=path[_0x5cb10f(0x1d8)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x5cb10f(0x209)](0x24)+_0x5cb10f(0x1fb));fs['writeFileSync'](_0x4ab62d,_0x1e3dbe);if(_0x4bf633[_0x5cb10f(0x1e8)]||_0x4bf633['author']){const _0x6ba1be=new webp[(_0x5cb10f(0x1d5))](),_0x44155c={'sticker-pack-id':'https://github.com/Louis-X0','sticker-pack-name':_0x4bf633[_0x5cb10f(0x1e8)],'sticker-pack-publisher':_0x4bf633[_0x5cb10f(0x201)],'emojis':_0x4bf633['categories']?_0x4bf633['categories']:['']},_0x4ef235=Buffer[_0x5cb10f(0x1ec)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x379b32=Buffer[_0x5cb10f(0x1ec)](JSON[_0x5cb10f(0x1ea)](_0x44155c),_0x5cb10f(0x1e6)),_0x414838=Buffer[_0x5cb10f(0x1e9)]([_0x4ef235,_0x379b32]);return _0x414838[_0x5cb10f(0x207)](_0x379b32['length'],0xe,0x4),await _0x6ba1be[_0x5cb10f(0x1e3)](_0x4ab62d),fs['unlinkSync'](_0x4ab62d),_0x6ba1be['exif']=_0x414838,await _0x6ba1be[_0x5cb10f(0x1ed)](_0x442099),_0x442099;}}async function writeExifVid(_0x246d0d,_0x4da03d){const _0x4d88ff=_0x35bba3;let _0x2a255f=await videoToWebp(_0x246d0d);const _0x16707f=path['join'](tmpdir(),Crypto[_0x4d88ff(0x1f7)](0x6)[_0x4d88ff(0x1eb)](0x0,0x6)['toString'](0x24)+_0x4d88ff(0x1fb)),_0x4d34a5=path[_0x4d88ff(0x1d8)](tmpdir(),Crypto[_0x4d88ff(0x1f7)](0x6)[_0x4d88ff(0x1eb)](0x0,0x6)[_0x4d88ff(0x209)](0x24)+_0x4d88ff(0x1fb));fs[_0x4d88ff(0x1f1)](_0x16707f,_0x2a255f);if(_0x4da03d[_0x4d88ff(0x1e8)]||_0x4da03d['author']){const _0x56e31a=new webp[(_0x4d88ff(0x1d5))](),_0x4883df={'sticker-pack-id':_0x4d88ff(0x1f0),'sticker-pack-name':_0x4da03d[_0x4d88ff(0x1e8)],'sticker-pack-publisher':_0x4da03d['author'],'emojis':_0x4da03d[_0x4d88ff(0x1f9)]?_0x4da03d[_0x4d88ff(0x1f9)]:['']},_0x10f2d8=Buffer[_0x4d88ff(0x1ec)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3149bf=Buffer[_0x4d88ff(0x1ec)](JSON['stringify'](_0x4883df),_0x4d88ff(0x1e6)),_0x5d2ebd=Buffer[_0x4d88ff(0x1e9)]([_0x10f2d8,_0x3149bf]);return _0x5d2ebd['writeUIntLE'](_0x3149bf[_0x4d88ff(0x1d9)],0xe,0x4),await _0x56e31a[_0x4d88ff(0x1e3)](_0x16707f),fs[_0x4d88ff(0x1e1)](_0x16707f),_0x56e31a['exif']=_0x5d2ebd,await _0x56e31a[_0x4d88ff(0x1ed)](_0x4d34a5),_0x4d34a5;}}async function writeExifWebp(_0x57b3ba,_0x1f7edd){const _0x42be92=_0x35bba3,_0x311d80=path['join'](tmpdir(),Crypto[_0x42be92(0x1f7)](0x6)[_0x42be92(0x1eb)](0x0,0x6)['toString'](0x24)+_0x42be92(0x1fb)),_0x30b303=path['join'](tmpdir(),Crypto[_0x42be92(0x1f7)](0x6)[_0x42be92(0x1eb)](0x0,0x6)[_0x42be92(0x209)](0x24)+_0x42be92(0x1fb));fs[_0x42be92(0x1f1)](_0x311d80,_0x57b3ba);if(_0x1f7edd[_0x42be92(0x1e8)]||_0x1f7edd[_0x42be92(0x201)]){const _0x5daae9=new webp[(_0x42be92(0x1d5))](),_0x2061aa={'sticker-pack-id':'https://github.com/Louis-X0','sticker-pack-name':_0x1f7edd[_0x42be92(0x1e8)],'sticker-pack-publisher':_0x1f7edd[_0x42be92(0x201)],'emojis':_0x1f7edd[_0x42be92(0x1f9)]?_0x1f7edd[_0x42be92(0x1f9)]:['']},_0x4ebb1c=await Buffer[_0x42be92(0x1ec)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x43eaf7=await Buffer[_0x42be92(0x1ec)](JSON[_0x42be92(0x1ea)](_0x2061aa),'utf-8'),_0x4b2167=await Buffer[_0x42be92(0x1e9)]([_0x4ebb1c,_0x43eaf7]);return await _0x4b2167[_0x42be92(0x207)](_0x43eaf7['length'],0xe,0x4),await _0x5daae9['load'](_0x311d80),fs['unlinkSync'](_0x311d80),_0x5daae9[_0x42be92(0x1de)]=_0x4b2167,await _0x5daae9[_0x42be92(0x1ed)](_0x30b303),_0x30b303;}}module[_0x35bba3(0x1e5)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};
